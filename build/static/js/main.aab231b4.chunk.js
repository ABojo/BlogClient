(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{34:function(e,t,r){},35:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),a=r(20),s=r.n(a),o=r(0);var i=function(){return Object(o.jsxs)("div",{className:"flex flex-row items-baseline justify-between px-5 py-5 border-b border-grey-100 mb-10",children:[Object(o.jsx)("a",{href:"/",className:"text-3xl",children:"Blog Client"}),Object(o.jsx)("a",{href:"https://github.com/ABojo/BlogClient",className:"text-3xl font-bold text-blue-500",children:Object(o.jsx)("i",{className:"fab fa-github text-blue-500 bg-blue-100 p-4 rounded-full"})})]})},l=r(8),b=r(7),u=r.n(b),j=r(9);var d=function(e){var t=e.title,r=e.body,n=e.author,c=e.stamp,a=e.url;return Object(o.jsxs)("div",{className:"container mb-10 border-l-8 border-blue-500 px-8",children:[Object(o.jsx)("a",{href:a,className:"font-bold text-3xl mb-3 block",children:t}),Object(o.jsx)("p",{className:"text-gray-500 mb-3",children:r}),Object(o.jsx)("p",{className:"text-gray-400 text-sm mb-3 block",children:"".concat(n," \xb7 ").concat(c)}),Object(o.jsx)("a",{href:a,className:"\r bg-green-100\r hover:bg-green-200\r transition\r duration-200\r p-3\r rounded\r text-green-900\r font-bold\r text-sm\r inline-block\r ",children:"Read More"})]})};var x=function(){return Object(o.jsxs)("div",{className:"lds-ring mt-10",children:[Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{}),Object(o.jsx)("div",{})]})},m=function(e){var t=new Date(e);return"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear())},p=function(e){return JSON.parse(e).reverse().map((function(e){var t=e.body,r=e.timestamp;return Object(o.jsx)(d,{url:"/posts/".concat(e._id),title:e.title,body:"".concat(t.length>200?t.slice(0,200):t,"..."),author:e.author,stamp:m(r)})}))},h=function(){var e=Object(j.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://odingblogapi.herokuapp.com/api/posts");case 2:return r=e.sent,e.next=5,r.json();case 5:n=e.sent,t(JSON.stringify(n.data.posts));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var O=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),r=t[0],c=t[1];return h(c),Object(o.jsx)("div",{children:r?p(r):Object(o.jsx)(x,{})})},f=r(2),v=r(22);var g=function(e){var t=e.text,r=e.success?"green":"red";return Object(o.jsx)("div",{className:"p-5 w-full bg-".concat(r,"-100 rounded mb-10"),children:Object(o.jsx)("h1",{className:"text-".concat(r,"-900"),children:t})})},y=function(){var e=Object(j.a)(u.a.mark((function e(t,r,n){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://odingblogapi.herokuapp.com/api/comments/",{method:"POST",body:JSON.stringify({postId:t,name:r,body:n}),headers:{"Content-type":"application/json; charset=UTF-8"}});case 2:return c=e.sent,e.next=5,c.json();case 5:return a=e.sent,e.abrupt("return",a.data.comment);case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();var N=function(e){var t=e.postId,r=Object(n.useState)(e.comments),a=Object(l.a)(r,2),s=a[0],i=a[1],b=Object(n.useState)(""),d=Object(l.a)(b,2),x=d[0],p=d[1],h=Object(n.useState)(""),O=Object(l.a)(h,2),f=O[0],N=O[1],w=Object(n.useState)(""),k=Object(l.a)(w,2),S=k[0],C=k[1],J=Object(n.useState)(!1),B=Object(l.a)(J,2),F=B[0],I=B[1],T=function(e,t){I(t),C(e)},E=function(){var e=Object(j.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x||!f){e.next=9;break}return e.next=3,y(t,x,f);case 3:r=e.sent,N(""),p(""),T("Your comment has been successfully posted!",!0),i([].concat(Object(v.a)(s),[r])),e.next=10;break;case 9:T("Sorry, you must fill out both fields first!",!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)(c.a.Fragment,{children:[Object(o.jsx)("div",{className:"bg-gray-100 p-5 mb-10 rounded",children:Object(o.jsxs)("div",{className:"mx-auto",children:[Object(o.jsx)("input",{onChange:function(e){p(e.currentTarget.value)},value:x,type:"text",placeholder:"Enter your name",className:"px-5 py-5 rounded shadow-inner resize-none w-full text-sm block mb-3",required:!0}),Object(o.jsx)("textarea",{onChange:function(e){N(e.currentTarget.value)},value:f,placeholder:"Enter a comment",className:"px-5 py-5 rounded shadow-inner resize-none w-full text-sm block mb-3",required:!0}),Object(o.jsx)("input",{onClick:E,type:"submit",value:"Add Comment",className:"rounded font-bold bg-blue-100 hover:bg-blue-200 text-blue-900 p-3 text-sm cursor-pointer transition duration-200 shadow block ml-auto"})]})}),S&&Object(o.jsx)(g,{text:S,success:F}),Object(o.jsxs)("div",{class:"mb-10",children:[Object(o.jsxs)("h1",{class:"text-3xl mb-3 text-gray-900",children:["Comments (",s.length,")"]}),s.map((function(e){return Object(o.jsxs)("div",{className:"border-l-8 border-blue-500 px-8 mb-3",children:[Object(o.jsx)("h1",{class:"text-xl text-gray-900",children:e.name}),Object(o.jsx)("h1",{class:"text-gray-500 text-lg mb-3",children:e.body}),Object(o.jsx)("h1",{class:"text-gray-400",children:m(e.timestamp)})]})})).reverse()]})]})},w=function(){var e=Object(j.a)(u.a.mark((function e(t,r){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://odingblogapi.herokuapp.com/api/posts/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,r(JSON.stringify(c.data.post));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),k=function(e){var t=JSON.parse(e),r=t.title,n=t.body,c=t.author,a=t.timestamp;return Object(o.jsxs)("div",{className:"mb-10",children:[Object(o.jsx)("h1",{className:"text-4xl font-bold mb-3",children:r}),Object(o.jsxs)("h2",{className:"text-gray-400 text-md mb-3",children:[c," \xb7 ",m(a)]}),Object(o.jsx)("p",{className:"text-gray-500 text-xl",children:n})]})};var S=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),r=t[0],a=t[1],s=Object(f.e)().id;return w(s,a),Object(o.jsx)("div",{children:r?Object(o.jsxs)(c.a.Fragment,{children:[k(r),Object(o.jsx)(N,{comments:JSON.parse(r).comments,postId:s})]}):Object(o.jsx)(x,{})})},C=r(16);var J=function(){return Object(o.jsxs)("div",{className:"container mx-auto max-w-3xl p-5",children:[Object(o.jsx)(i,{}),Object(o.jsxs)(C.a,{children:[Object(o.jsx)(f.a,{exact:!0,path:"/",children:Object(o.jsx)(O,{})}),Object(o.jsx)(f.a,{exact:!0,path:"/posts/:id",children:Object(o.jsx)(S,{})})]})]})};r(34);s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(J,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.aab231b4.chunk.js.map